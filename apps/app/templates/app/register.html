{% extends 'app/base.html' %}
{% block title %}Register — Email Bot{% endblock %}
{% block content %}
<div class="max-w-md mx-auto">
  <div class="rounded-2xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800/80 p-8 shadow-soft">
    <h1 class="text-2xl font-semibold mb-6">Create account</h1>
    {% if error %}<div class="mb-4 text-sm rounded-md bg-rose-50 dark:bg-rose-500/10 border border-rose-200 dark:border-rose-500/40 text-rose-700 dark:text-rose-300 px-4 py-3">{{ error }}</div>{% endif %}
  <form method="post" enctype="multipart/form-data" class="space-y-5">
      {% csrf_token %}
      <div>
        <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2" for="username">Username</label>
        <input id="username" name="username" required class="w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700/70 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/60 focus:border-brand-500" />
      </div>
      <div>
        <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2" for="email">Email</label>
        <input id="email" name="email" type="email" required class="w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700/70 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/60 focus:border-brand-500" />
      </div>
      <div>
        <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2" for="password">Password</label>
        <input id="password" type="password" name="password" required minlength="6" class="w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700/70 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/60 focus:border-brand-500" />
      </div>
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2" for="language">Language</label>
          <select id="language" name="language" class="w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700/70 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/60 focus:border-brand-500">
            <option value="pl" selected>Polish</option>
            <option value="en">English</option>
            <option value="de">German</option>
            <option value="fr">French</option>
            <option value="es">Spanish</option>
            <option value="it">Italian</option>
          </select>
        </div>
        <div>
          <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2" for="country">Country</label>
          <select id="country" name="country" class="w-full rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700/70 px-3 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-brand-500/60 focus:border-brand-500">
            <option value="PL" selected>Poland</option>
            <option value="US">United States</option>
            <option value="DE">Germany</option>
            <option value="FR">France</option>
            <option value="ES">Spain</option>
            <option value="IT">Italy</option>
            <option value="GB">United Kingdom</option>
          </select>
        </div>
      </div>
      <div>
        <label class="block text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400 mb-2" for="credentials">Gmail API Credentials (JSON)</label>
        <input id="credentials" name="credentials" type="file" accept="application/json,.json" required class="w-full text-sm file:mr-4 file:py-2.5 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-brand-50 file:text-brand-700 hover:file:bg-brand-100 dark:file:bg-slate-700 dark:file:text-slate-200 dark:hover:file:bg-slate-600" />
        <p class="mt-1 text-[11px] text-slate-500 dark:text-slate-400">Prześlij plik credentials JSON pobrany z Google Cloud Console.</p>
        {% if form and form.errors.credentials %}
          <p class="mt-1 text-[11px] text-rose-600 dark:text-rose-400">{{ form.errors.credentials.0 }}</p>
        {% endif %}
      </div>
      <button class="w-full inline-flex justify-center items-center gap-2 rounded-md bg-brand-600 hover:bg-brand-700 text-white px-5 py-2.5 text-sm font-medium shadow-soft focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-600" type="submit">Register</button>
    </form>
    <p class="mt-6 text-xs text-slate-500 dark:text-slate-400">Already have an account? <a href="/login" class="text-brand-600 dark:text-sky-400 hover:underline">Sign in</a></p>
  </div>
</div>
{% endblock %}
